<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game "F1"</title>

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="css/vendor.min.css">
    
    <link rel="stylesheet" href="css/main.min.css">

</head>
<body>
    <section class="main-page">
        <div class="main-window">
            <h1 id="logo">Formula <span class="name">1</span></h1>
            <div id="data-window">

                <canvas id="main-canvas"></canvas>

                <div id="main-control"></div>

            </div>
        </div>
    </section>

    <script id="main" type="text/template">
        <div class="main-menu" id="main-menu">
            <button class="btn btn-info btn-big" type="button" id="btn-play">Play (one player)</button><br>
            <button class="btn btn-info btn-big" type="button" id="btn-play2">Play (two players)</button><br>
            <button class="btn btn-warning btn-big" type="button" id="btn-controls">Controls</button><br>
            <button class="btn btn-warning btn-big" type="button" id="btn-results">Best Results</button><br>
        </div>

        <button class="btn btn-info" type="button" id="btn-back">Back</button>
    </script>

    <script id="controls" type="text/template">
        <div class="main-menu">
            <h2>Controls</h2>
            <div class="info">
                <table>
                    <% for (var i = 0, n = data.length; i < n; i++) { %>
                        <tr>
                            <th>Car:</th>
                            <th style="color: DarkGreen;" id="n<%= i %>"><%= data[i]['name'] %></th>
                            <th></th>
                        </tr>
                        <% for (key in data[i]['controlKeys']) { %>
                        <tr>
                            <td><%= key %></td>
                            <th id="k<%= i %>_<%= key %>">"<%= String.fromCharCode(data[i]['controlKeys'][key]) %>"</th>
                            <td><button id="b<%= i %>_<%= key %>" class="btn btn-default btn-xs btn-f1">Change</button></td>
                        </tr>
                        <% } %>
                    <% } %>
                </table>
            </div><br>

            <button class="btn btn-info btn-big" type="button" id="btn-back2">Back</button>
        </div>
    </script>

    <script id="results" type="text/template">
        <div class="main-menu">
            <h2>Best Results</h2>
            <div class="info">
                <table>
                    <tr>
                        <th>№</th>
                        <th>Car</th>
                        <th>Time (s)</th>
                        <th>Сhronology</th>
                    </tr>

                    <% for(var i = 0, n = data.length; i < n; i++) { %>
                        <tr>
                            <td><%= (i + 1) %></td>
                            <td><%= data.item(i)['name'] %></td>
                            <td><%= data.item(i)['result'] %></td>
                            <td><%= data.item(i)['date_time'] %><td>
                        </tr>
                    <% } %>                
                </table>
            </div><br>

            <button class="btn btn-info btn-big" type="button" id="btn-back3">Back</button>
        </div>
    </script>

    <script src="scripts/vendor.min.js"></script>

    <script src="scripts/main.min.js" defer></script>

</body>
</html>